<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Erick Gallesio">
<title>STklos Reference Manual : (version 2.10)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #75715e;
  font-style: italic;
}
pre.rouge .cm {
  color: #75715e;
  font-style: italic;
}
pre.rouge .c1 {
  color: #75715e;
  font-style: italic;
}
pre.rouge .cp {
  color: #75715e;
  font-weight: bold;
}
pre.rouge .cs {
  color: #75715e;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .err {
  color: #960050;
  background-color: #1e0010;
}
pre.rouge .gi {
  color: #ffffff;
  background-color: #324932;
}
pre.rouge .gd {
  color: #ffffff;
  background-color: #493131;
}
pre.rouge .ge {
  font-style: italic;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .k, pre.rouge .kv {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .kc {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .kd {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .kp {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .kr {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .kt {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .kn {
  color: #f92672;
  font-weight: bold;
}
pre.rouge .ow {
  color: #f92672;
  font-weight: bold;
}
pre.rouge .o {
  color: #f92672;
  font-weight: bold;
}
pre.rouge .mf {
  color: #ae81ff;
}
pre.rouge .mh {
  color: #ae81ff;
}
pre.rouge .il {
  color: #ae81ff;
}
pre.rouge .mi {
  color: #ae81ff;
}
pre.rouge .mo {
  color: #ae81ff;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #ae81ff;
}
pre.rouge .se {
  color: #ae81ff;
}
pre.rouge .sa {
  color: #66d9ef;
  font-weight: bold;
}
pre.rouge .sb {
  color: #e6db74;
}
pre.rouge .sc {
  color: #e6db74;
}
pre.rouge .sd {
  color: #e6db74;
}
pre.rouge .s2 {
  color: #e6db74;
}
pre.rouge .sh {
  color: #e6db74;
}
pre.rouge .si {
  color: #e6db74;
}
pre.rouge .sx {
  color: #e6db74;
}
pre.rouge .sr {
  color: #e6db74;
}
pre.rouge .s1 {
  color: #e6db74;
}
pre.rouge .ss {
  color: #e6db74;
}
pre.rouge .s, pre.rouge .dl {
  color: #e6db74;
}
pre.rouge .na {
  color: #a6e22e;
}
pre.rouge .nc {
  color: #a6e22e;
  font-weight: bold;
}
pre.rouge .nd {
  color: #a6e22e;
  font-weight: bold;
}
pre.rouge .ne {
  color: #a6e22e;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #a6e22e;
  font-weight: bold;
}
pre.rouge .no {
  color: #66d9ef;
}
pre.rouge .bp {
  color: #f8f8f2;
}
pre.rouge .nb {
  color: #f8f8f2;
}
pre.rouge .ni {
  color: #f8f8f2;
}
pre.rouge .nn {
  color: #f8f8f2;
}
pre.rouge .vc {
  color: #f8f8f2;
}
pre.rouge .vg {
  color: #f8f8f2;
}
pre.rouge .vi {
  color: #f8f8f2;
}
pre.rouge .nv, pre.rouge .vm {
  color: #f8f8f2;
}
pre.rouge .w {
  color: #f8f8f2;
}
pre.rouge .nl {
  color: #f8f8f2;
  font-weight: bold;
}
pre.rouge .nt {
  color: #f92672;
}
pre.rouge {
  color: #f8f8f2;
  background-color: #49483e;
}
</style>
<style>
  /* Customize default CSS */
  .sidebarblock { margin-top: -1em; }
</style>
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="_idiosync" class="book toc2 toc-left">
<div id="header">
<h1>STklos Reference Manual : (version 2.10)</h1>
<div class="details">
<span id="author" class="author">Erick Gallesio</span><br>
<span id="email" class="email"><a href="mailto:eg@stklos.net">eg@stklos.net</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="stklos-ref-multi.html">STklos Reference Manual : (version 2.10)</a></span></p><ul class="sectlevel1">
<li><a href="_preface.html">Preface</a>
</li>
<li><a href="_introduction.html">1. Introduction</a>
</li>
<li><a href="_expressions.html">2. Expressions</a>
</li>
<li><a href="_program_structure.html">3. Program structure</a>
</li>
<li><a href="_standard_procedures.html">4. Standard Procedures</a>
</li>
<li><a href="_regular_expressions.html">5. Regular Expressions</a>
</li>
<li><a href="_pattern_matching.html">6. Pattern Matching</a>
</li>
<li><a href="_exceptions_and_conditions.html">7. Exceptions and Conditions</a>
</li>
<li><a href="_stklos_object_system.html">8. STklos Object System</a>
</li>
<li><a href="_threads_mutexes_and_condition_variables.html">9. Threads, Mutexes and Condition Variables</a>
</li>
<li><a href="_stklos_customization.html">10. STklos Customization</a>
</li>
<li><a href="_foreign_function_interface.html">11. Foreign Function Interface</a>
</li>
<li><a href="_using_the_slib_package.html">12. Using the SLIB package</a>
</li>
<li><a href="_srfis.html">13. SRFIs</a>
</li>
<li><a href="_bibliography.html">Bibliography</a>
</li>
<li><a href="_idiosync.html"><span class="toc-current">Appendix C: STklos Idiosyncrasies</span></a>
<ul class="sectlevel2">
<li><a href="_idiosync.html#_stklos_libraries">A.1. STklos libraries</a>
</li>
<li><a href="_idiosync.html#_stklos_compiler">A.2. STklos compiler</a>
</li>
</ul>
</li>
<li><a href="FDL.html">Appendix D: GNU Free Documentation License</a>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_idiosync">Appendix A: STklos Idiosyncrasies</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_stklos_libraries">A.1. STklos libraries</h3>
<div class="paragraph">
<p>This section describes the standard libraries provided by <strong><em>STklos</em></strong>.</p>
</div>
<div class="sect3">
<h4 id="_the_scheme_libraries">A.1.1. The (scheme &#8230;&#8203;) Libraries</h4>
<div class="sect4">
<h5 id="_r7rs_small_libraries">R<sup>7</sup>RS Small Libraries</h5>
<div class="paragraph">
<p><strong><em>STklos</em></strong> offers all the libraries defined by R<sup>7</sup>RS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>base</p>
</li>
<li>
<p>case-lambda</p>
</li>
<li>
<p>char</p>
</li>
<li>
<p>complex</p>
</li>
<li>
<p>cxr</p>
</li>
<li>
<p>eval</p>
</li>
<li>
<p>file</p>
</li>
<li>
<p>inexact</p>
</li>
<li>
<p>lazy</p>
</li>
<li>
<p>load</p>
</li>
<li>
<p>process-context</p>
</li>
<li>
<p>r5rs</p>
</li>
<li>
<p>read</p>
</li>
<li>
<p>repl</p>
</li>
<li>
<p>time</p>
</li>
<li>
<p>write</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="_bibliography.html#R7RS">[R7RS]</a> document for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_r7rs_large_libraries">R<sup>7</sup>RS Large Libraries</h5>
<div class="paragraph">
<p><strong><em>STklos</em></strong> supports some libraries of the (under development) R<sup>7</sup>RS Large editions.</p>
</div>
<div class="paragraph">
<p>For now, supported libraries of the <strong>Red edition</strong> are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bytevector (R<sup>6</sup>RS bytevectors)</p>
</li>
<li>
<p>box <em>(srfi 111)</em></p>
</li>
<li>
<p>charset <em>(srfi 14)</em></p>
</li>
<li>
<p>comparator <em>(srfi 128)</em></p>
</li>
<li>
<p>generator <em>(srfi 158)</em>&#8201;&#8212;&#8201;Red edition included SRFI 121, but it was superseded by SRFI 158.</p>
</li>
<li>
<p>hash-table <em>(srfi 125)</em></p>
</li>
<li>
<p>ideque <em>(srfi 134)</em></p>
</li>
<li>
<p>ilist <em>(srfi 116)</em></p>
</li>
<li>
<p>list <em>(srfi 1)</em></p>
</li>
<li>
<p>list-queue <em>(srfi 117)</em></p>
</li>
<li>
<p>lseq <em>(srfi 127)</em></p>
</li>
<li>
<p>set <em>(srfi 113)</em></p>
</li>
<li>
<p>sort <em>(srfi 132)</em></p>
</li>
<li>
<p>stream <em>(srfi 41)</em></p>
</li>
<li>
<p>text <em>(srfi 135)</em></p>
</li>
<li>
<p>vector <em>(srfi 133)</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For now, supported libraries of the <strong>Tangerine edition</strong> are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bitwise <em>(srfi 151)</em></p>
</li>
<li>
<p>bytevector <em>(scheme bytevector)</em>- not a SRFI: this one is a chapter from R6RS.</p>
</li>
<li>
<p>division <em>(srfi 141)</em></p>
</li>
<li>
<p>fixnum <em>(srfi 143)</em></p>
</li>
<li>
<p>flonum <em>(srfi 144)</em></p>
</li>
<li>
<p>generator <em>(srfi 158)</em></p>
</li>
<li>
<p>vector @ <em>(srfi 160)</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>(scheme bytevector) functions</strong></p>
</div>
<div class="paragraph">
<p>Importing <code>(scheme bytevector)</code> gives access to the supplemental following
bytevector functions.</p>
</div>
<div class="paragraph">
<p><a id='P_bytevector-s8-ref'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(bytevector-s8-ref bytevector k) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>bytevector-s8-ref</code> procedure returns the byte at index <code>k</code> of
<code>bytevector</code>, as a signed byte.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nf">b1</span> <span class="p">(</span><span class="nf">make-bytevector</span> <span class="mi">16</span> <span class="mi">-127</span><span class="p">))</span>
      <span class="p">(</span><span class="nf">b2</span> <span class="p">(</span><span class="nf">make-bytevector</span> <span class="mi">16</span> <span class="mi">255</span><span class="p">)))</span>
  <span class="p">(</span><span class="nb">list</span>
    <span class="p">(</span><span class="nf">bytevector-s8-ref</span> <span class="nv">b1</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">bytevector-u8-ref</span> <span class="nv">b1</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">bytevector-s8-ref</span> <span class="nv">b2</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">bytevector-u8-ref</span> <span class="nv">b2</span> <span class="mi">0</span><span class="p">)))</span>
<span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">-127</span> <span class="mi">129</span> <span class="mi">-1</span> <span class="mi">255</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_bytevector-s8-set!'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(bytevector-s8-set! bytevector k byte) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p><code>K</code> must be a valid index of bytevector.
The <code>bytevector-s8-set!</code> procedure stores the two’s-complement
representation of <code>byte</code> in element <code>k</code> of <code>bytevector</code>.
This procedure return an unspecified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nf">b</span> <span class="p">(</span><span class="nf">make-bytevector</span> <span class="mi">16</span> <span class="mi">-127</span><span class="p">)))</span>
  <span class="p">(</span><span class="nf">bytevector-s8-set!</span> <span class="nv">b</span> <span class="mi">0</span> <span class="mi">-126</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">bytevector-u8-set!</span> <span class="nv">b</span> <span class="mi">1</span> <span class="mi">246</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">list</span>
    <span class="p">(</span><span class="nf">bytevector-s8-ref</span> <span class="nv">b</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">bytevector-u8-ref</span> <span class="nv">b</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">bytevector-s8-ref</span> <span class="nv">b</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">bytevector-u8-ref</span> <span class="nv">b</span> <span class="mi">1</span><span class="p">)))</span>
  <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">-126</span> <span class="mi">130</span> <span class="mi">-10</span> <span class="mi">246</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_bytevector-fill!'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(bytevector-fill! bytevector fill ) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>fill</code> argument is as in the description of the make-bytevector
procedure. The <code>bytevector-fill!</code>  procedure stores <code>fill</code> in every
element of bytevector and returns unspecified values. Analogous to
<code>vector-fill!</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_bytevector=?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(bytevector=? bytevector1 bytevector2 ) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns true if <code>bytevector1</code> and <code>bytevector2</code> are equal—that
is, if they have the same length and equal bytes at all valid
indices. It returns false otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_bytevector-sint-set!'></a><a id='P_bytevector-uint-set!'></a><a id='P_bytevector-sint-ref'></a><a id='P_bytevector-uint-ref'></a>



</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(bytevector-uint-ref bytevector k endianness size) </strong></code><br>
<code><strong>(bytevector-sint-ref bytevector k endianness size) </strong></code><br>
<code><strong>(bytevector-uint-set! bytevector k n endianness size) </strong></code><br>
<code><strong>(bytevector-sint-set! bytevector k n endianness size) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>bytevector-uint-ref</code> procedure retrieves the exact
integer object corresponding to the unsigned representation
of size <code>size</code> and specified by <code>endianness</code> at indices
<code>k , &#8230;&#8203; , k + size − 1</code>.</p>
</div>
<div class="paragraph">
<p>The <code>bytevector-sint-ref</code> procedure retrieves the exact
integer object corresponding to the two’s-complement
representation of size <code>size</code> and specified by <code>endianness</code>
at indices <code>k , &#8230;&#8203; , k + size − 1</code>.</p>
</div>
<div class="paragraph">
<p>For <code>bytevector-uint-set!</code>, <code>n</code> must be an exact integer
object in the interval <code>{0, &#8230;&#8203; , 256^size − 1}</code>.</p>
</div>
<div class="paragraph">
<p>The <code>bytevector-uint-set!</code> procedure stores the unsigned
representation of size <code>size</code> and specified by <code>endianness</code>
into <code>bytevector</code> at indices <code>k , &#8230;&#8203; , k + size − 1</code>.</p>
</div>
<div class="paragraph">
<p>For bytevector-sint-set!, n must be an exact integer
object in the interval <code>{−256^size /2, &#8230;&#8203; , 256^size /2 − 1}</code>.
<code>Bytevector-sint-set!</code> stores the two’s-complement
representation of size <code>size</code> and specified by <code>endianness</code>
into <code>bytevector</code> at indices <code>k , &#8230;&#8203; , k + size − 1</code>.</p>
</div>
<div class="paragraph">
<p>The <code>&#8230;&#8203;-set!</code> procedures return unspecified values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="k">define</span> <span class="nv">b</span> <span class="p">(</span><span class="nf">make-bytevector</span> <span class="mi">16</span> <span class="mi">-127</span><span class="p">))</span>

<span class="p">(</span><span class="nf">bytevector-uint-set!</span> <span class="nv">b</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">-</span> <span class="p">(</span><span class="nb">expt</span> <span class="mi">2</span> <span class="mi">128</span><span class="p">)</span> <span class="mi">3</span><span class="p">)</span>
                      <span class="p">(</span><span class="nf">endianness</span> <span class="nv">little</span><span class="p">)</span> <span class="mi">16</span><span class="p">)</span>
<span class="p">(</span><span class="nf">bytevector-uint-ref</span> <span class="nv">b</span> <span class="mi">0</span> <span class="p">(</span><span class="nf">endianness</span> <span class="nv">little</span><span class="p">)</span> <span class="mi">16</span><span class="p">)</span>
 <span class="nv">=&gt;</span> <span class="mh">#xfffffffffffffffffffffffffffffffd</span>

<span class="p">(</span><span class="nf">bytevector-sint-ref</span> <span class="nv">b</span> <span class="mi">0</span> <span class="p">(</span><span class="nf">endianness</span> <span class="nv">little</span><span class="p">)</span> <span class="mi">16</span><span class="p">)</span>
 <span class="nv">=&gt;</span> <span class="mi">-3</span>

<span class="p">(</span><span class="nf">bytevector-&gt;u8-list</span> <span class="nv">b</span><span class="p">)</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">253</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
     <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="p">)</span>

<span class="p">(</span><span class="nf">bytevector-uint-set!</span> <span class="nv">b</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">-</span> <span class="p">(</span><span class="nb">expt</span> <span class="mi">2</span> <span class="mi">128</span><span class="p">)</span> <span class="mi">3</span><span class="p">)</span>
                      <span class="p">(</span><span class="nf">endianness</span> <span class="nv">big</span><span class="p">)</span> <span class="mi">16</span><span class="p">)</span>
<span class="p">(</span><span class="nf">bytevector-uint-ref</span> <span class="nv">b</span> <span class="mi">0</span> <span class="p">(</span><span class="nf">endianness</span> <span class="nv">big</span><span class="p">)</span> <span class="mi">16</span><span class="p">)</span>
 <span class="nv">=&gt;</span> <span class="mh">#xfffffffffffffffffffffffffffffffd</span>

<span class="p">(</span><span class="nf">bytevector-sint-ref</span> <span class="nv">b</span> <span class="mi">0</span> <span class="p">(</span><span class="nf">endianness</span> <span class="nv">big</span><span class="p">)</span> <span class="mi">16</span><span class="p">)</span>
 <span class="nv">=&gt;-3</span>

<span class="p">(</span><span class="nf">bytevector-&gt;u8-list</span> <span class="nv">b</span><span class="p">)</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
     <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">253</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_endianness'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver">R<sup>5</sup>RS procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(endianness endianness-symbol) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The name of <code>endianness-symbol</code> must be a symbol describing an
endianness.  An implementation must support at least the symbols big
and little, but may support other endianness symbols.
<code>(endianness endianness-symbol)</code> evaluates to the symbol named
<code>endianness-symbol</code>. Whenever one of the procedures operating on
bytevectors accepts an endianness as an argument, that argument must
be one of these symbols. It is a syntax violation for <code>endianness-symbol</code>
to be anything other than <code>little</code> or <code>big</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_native-endianness'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(native-endianness) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the endianness symbol of the underlying machine.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_srfi_libraries">A.1.2. The (srfi &#8230;&#8203;) Libraries</h4>
<div class="paragraph">
<p>All the SRFI supported by <strong><em>STklos</em></strong> are placed under
the <code>srfi</code> meta library and their name is SRFI number. Hence, to use
the exported symbols of <strong><a href="http://srfi.schemers.org/srfi-1/srfi-1.html">SRFI-1</a></strong>, you&#8217;ll have to import the
<code>(srfi 1)</code> library.</p>
</div>
<div class="paragraph">
<p>See  <em><a href="_srfis.html">Chapter 13</a></em> for more information</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_stklos_libraries">A.1.3. The (stklos &#8230;&#8203;) Libraries</h4>
<div class="paragraph">
<p>This section describes the standard libraries which are placed under
the <code>stklos</code> meta library. Note that <strong><em>STklos</em></strong> extensions can add
some libraries in the <code>stklos</code> meta library; they will be described in
the extension documentation.</p>
</div>
<div class="sect4">
<h5 id="_stklos_itrie_library">(stklos itrie) Library</h5>
<div class="paragraph">
<p>This library was designed by Jerônimo Pellegrini
(<a href="https://github.com/jpellegrini">@jpellegrini</a>).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Small description needed
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The symbols exported by <code>(stklos itrie)</code> are described below:</p>
</div>
<div class="paragraph">
<p><a id='P_alist->fxmapping'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(alist&#8594;fxmapping alist) → fxmapping </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated fxmapping containing the associations of
alist. It is an error if the car of any pair in alist is not a
fixnum. If an integer k appears as the key of multiple associations in
alist (i.e. as the car of multiple pairs), then the first association
for k is preferred.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">fxmapping-&gt;alist</span>
  <span class="p">(</span><span class="nf">alist-&gt;fxmapping</span> <span class="o">'</span><span class="p">((</span><span class="nf">1</span> <span class="o">.</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span><span class="nf">0</span> <span class="o">.</span> <span class="nv">a</span><span class="p">)</span> <span class="p">(</span><span class="nf">2</span> <span class="o">.</span> <span class="nv">c</span><span class="p">))))</span>
 <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">0</span> <span class="o">.</span> <span class="nv">a</span><span class="p">)</span> <span class="p">(</span><span class="nf">1</span> <span class="o">.</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span><span class="nf">2</span> <span class="o">.</span> <span class="nv">c</span><span class="p">))</span>

<span class="p">(</span><span class="nf">fxmapping-&gt;alist</span>
  <span class="p">(</span><span class="nf">alist-&gt;fxmapping</span> <span class="o">'</span><span class="p">((</span><span class="nf">-10</span> <span class="o">.</span> <span class="s">"yar"</span><span class="p">)</span> <span class="p">(</span><span class="nf">-10</span> <span class="o">.</span> <span class="s">"worf"</span><span class="p">))))</span>
 <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">-10</span> <span class="o">.</span> <span class="s">"yar"</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_constant-fxmapping'></a><a id='P_fxmapping'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping k1 v1 k2 v2 &#8230;&#8203; kn vn) </strong></code><br>
<code><strong>(constant-fxmapping k1 v1 k2 v2 &#8230;&#8203; kn vn) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Builds a fixnum map containing the integer keys <code>k1</code>, <code>k2</code>, &#8230;&#8203;, <code>kn</code>
with respective associated values <code>v1</code>, <code>v2</code>, &#8230;&#8203; <code>vn</code>.</p>
</div>
<div class="paragraph">
<p>It is an error if any of the keys is not an integer, or if the
number of arguments is not even.</p>
</div>
<div class="paragraph">
<p><a id='P_constant-iset'></a><a id='P_iset'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset n1 n2 &#8230;&#8203; nk) </strong></code><br>
<code><strong>(constant-iset n1 n2 &#8230;&#8203; nk) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Builds a fixnum set containing the fixnums  <code>n1</code>, <code>n2</code>, &#8230;&#8203;, <code>nk</code>.</p>
</div>
<div class="paragraph">
<p>It is an error if any of the keys is not an integer.</p>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-adjoin'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-adjoin fxmap k1 obj1 k2 &#8230;&#8203;) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a fxmapping containing all of the associations of <code>fxmap</code> as
well as the associations <code>(k1, obj1)</code>, <code>(k2, obj2)</code>, &#8230;&#8203; The number of
key/value arguments must be even.</p>
</div>
<div class="paragraph">
<p>If any of the keys already have associations in <code>fxmap</code>, the old
associations are preserved.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">fxmapping-&gt;alist</span> <span class="p">(</span><span class="nf">fxmapping-adjoin</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">1</span> <span class="ss">'b</span><span class="p">)</span> <span class="mi">0</span> <span class="ss">'a</span><span class="p">))</span>
 <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">0</span> <span class="o">.</span> <span class="nv">a</span><span class="p">)</span> <span class="p">(</span><span class="nf">1</span> <span class="o">.</span> <span class="nv">b</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-contains?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-contains? map element) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns true if <code>map</code> contains an association for <code>element</code>, and false otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-empty?'></a><a id='P_SRFI-224'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-empty? obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> is <code>obj</code> is an empty fxmapping and <code>#f</code> if it
is an fxmapping containing at least one key.
If <code>obj</code> is not an fxmapping object, an error is sginaled.</p>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-height'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-height trie) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the height of the internal trie of an fxmap. The
expected running time of searches and insertions is
proportional to this value.</p>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-keys'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-keys fxmap) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the keys of <code>fxmap</code> as a list in ascending numerical order.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">fxmapping-keys</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">137</span> <span class="ss">'a</span> <span class="mi">-24</span> <span class="ss">'b</span> <span class="mi">-5072</span> <span class="ss">'c</span><span class="p">))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">-5072</span> <span class="mi">-24</span> <span class="mi">137</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-mutable?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-mutable? obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> is <code>obj</code> is a mutable fxmapping and <code>#f</code> otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-ref/default'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-ref/default map k obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>If an association <code>(k, v)</code> occurs in <code>map</code>, returns <code>v</code>. Otherwise, returns <code>obj</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">fxmapping-ref/default</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">36864</span> <span class="ss">'zap</span><span class="p">)</span> <span class="mi">36864</span> <span class="no">#f</span><span class="p">)</span> <span class="nv">=&gt;</span> <span class="nv">zap</span>
<span class="p">(</span><span class="nf">fxmapping-ref/default</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">0</span> <span class="ss">'a</span><span class="p">)</span> <span class="mi">36864</span> <span class="no">#f</span><span class="p">)</span> <span class="nv">=&gt;</span> <span class="no">#f</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-size'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-size trie) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the number of key/value pairs in an fxmap.</p>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-values'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-values fxmap) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the values of <code>fxmap</code> as a list in ascending numerical order of
key. That is, if <code>(k1, v1), &#8230;&#8203;, (kn, vn)</code> are the associations of <code>fxmap</code>
ordered so that <code>k1 &#8656; … &#8656; kn</code>, then <code>(fxmapping-values fxmap)</code> produces
the list <code>(v1 &#8230;&#8203; vn)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">fxmapping-values</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">0</span> <span class="s">"picard"</span> <span class="mi">1</span> <span class="s">"riker"</span> <span class="mi">2</span> <span class="s">"troi"</span><span class="p">))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="s">"picard"</span> <span class="s">"riker"</span> <span class="s">"troi"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_fxmapping-xor'></a><a id='P_fxmapping-difference'></a><a id='P_fxmapping-intersection'></a><a id='P_fxmapping-union'></a>



</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping-union fxmap1 fxmap2 fxmap3 &#8230;&#8203;) </strong></code><br>
<code><strong>(fxmapping-intersection fxmap1 fxmap2 fxmap3 &#8230;&#8203;) </strong></code><br>
<code><strong>(fxmapping-difference fxmap1 fxmap2 fxmap3 &#8230;&#8203;) </strong></code><br>
<code><strong>(fxmapping-xor fxmap1 fxmap2) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Return a fxmapping whose set of associations is the union,
intersection, asymmetric difference, or symmetric difference of the
sets of associations of the fxmaps. Asymmetric difference is extended
to more than two fxmappings by taking the difference between the first
fxmapping and the union of the others. Symmetric difference is not
extended beyond two fxmappings. When comparing associations, only the
keys are compared. In case of duplicate keys, associations in the
result fxmapping are drawn from the first fxmapping in which they
appear.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">fxmapping-&gt;alist</span> <span class="p">(</span><span class="nf">fxmapping-union</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">0</span> <span class="ss">'a</span> <span class="mi">2</span> <span class="ss">'c</span><span class="p">)</span>
                                  <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">1</span> <span class="ss">'b</span> <span class="mi">3</span> <span class="ss">'d</span><span class="p">)))</span>
   <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">0</span> <span class="o">.</span> <span class="nv">a</span><span class="p">)</span> <span class="p">(</span><span class="nf">1</span> <span class="o">.</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span><span class="nf">2</span> <span class="o">.</span> <span class="nv">c</span><span class="p">)</span> <span class="p">(</span><span class="nf">3</span> <span class="o">.</span> <span class="nv">d</span><span class="p">))</span>

 <span class="p">(</span><span class="nf">fxmapping-&gt;alist</span>
  <span class="p">(</span><span class="nf">fxmapping-intersection</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">0</span> <span class="ss">'a</span> <span class="mi">2</span> <span class="ss">'c</span><span class="p">)</span>
                          <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">1</span> <span class="ss">'b</span> <span class="mi">2</span> <span class="ss">'c</span> <span class="mi">3</span> <span class="ss">'d</span><span class="p">)</span>
                          <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">2</span> <span class="ss">'c</span> <span class="mi">4</span> <span class="ss">'e</span><span class="p">)))</span>
    <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">2</span> <span class="o">.</span> <span class="nv">c</span><span class="p">))</span>

<span class="p">(</span><span class="nf">fxmapping-&gt;alist</span>
 <span class="p">(</span><span class="nf">fxmapping-difference</span> <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">0</span> <span class="ss">'a</span> <span class="mi">1</span> <span class="ss">'b</span> <span class="mi">2</span> <span class="ss">'c</span><span class="p">)</span>
                       <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">2</span> <span class="s">"worf"</span><span class="p">)</span>
                       <span class="p">(</span><span class="nf">fxmapping</span> <span class="mi">1</span> <span class="s">"data"</span><span class="p">)))</span>
    <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">0</span> <span class="o">.</span> <span class="nv">a</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_fxmapping?'></a><a id='P_SRFI-224'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(fxmapping? obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> is <code>obj</code> is an fxmapping object and <code>#f</code> otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_iet>=?'></a><a id='P_iset<=?'></a><a id='P_iset>?'></a><a id='P_iset<?'></a><a id='P_iset=?'></a>




</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset=? iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset&lt;? iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset&gt;? iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset&#8656;? iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset&gt;=? iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>These procedures return true when each set is
equal (<code>iset=?</code>) or a proper subset (<code>iset&lt;?</code>), a proper
superset (<code>iset&gt;?</code>), a subset (<code>iset&#8656;?</code>) or a superset
(<code>iset&gt;=?</code>) of the next one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset=?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">3</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span>           <span class="nv">=&gt;</span> <span class="no">#t</span>
<span class="p">(</span><span class="nf">iset&lt;?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">3</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">4</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">3</span><span class="p">))</span>         <span class="nv">=&gt;</span> <span class="no">#t</span>
<span class="p">(</span><span class="nf">iset&gt;=?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="no">#t</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset->list'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset&#8594;list set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated list containing the members of
<code>set</code> in increasing numerical order.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-adjoin!'></a><a id='P_iset-adjoin'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-adjoin set element1 element2 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-adjoin! set element1 element2 &#8230;&#8203;) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>iset-adjoin</code> procedure returns a newly allocated iset that contains
all the values of <code>set</code>, and in addition each element unless it is
already equal to one of the existing or newly added members.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-adjoin</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">0</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>iset-adjoin!</code> procedure is the linear update version of
<code>iset-adjoin</code>. In STklos, it is an alias to <code>iset-adjoin</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-any?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-any? pred? set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns true if at least one of the elements of <code>set</code> satisfies
<code>pred?</code>. Note that this differs from the SRFI 1 analogue because
it does not return an element of the iset.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-any</span> <span class="nv">odd?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">10</span> <span class="mi">2</span> <span class="mi">-3</span> <span class="mi">4</span><span class="p">))</span>    <span class="nv">=&gt;</span> <span class="no">#t</span>
<span class="p">(</span><span class="nf">iset-any</span> <span class="nv">odd?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">10</span> <span class="mi">2</span> <span class="mi">-8</span> <span class="mi">4</span> <span class="mi">0</span><span class="p">))</span>  <span class="nv">=&gt;</span> <span class="no">#f</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-closed-open-interval'></a><a id='P_iset-open-closed-interval'></a><a id='P_iset-closed-interval'></a><a id='P_iset-open-interval'></a>



</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-open-interval set low high) </strong></code><br>
<code><strong>(iset-closed-interval set low high) </strong></code><br>
<code><strong>(iset-open-closed-interval set low high) </strong></code><br>
<code><strong>(iset-closed-open-interval set low high) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Procedures that return a subset of <code>set</code> contained in the interval from
<code>low</code> to <code>high</code>. The interval may be open, closed, open below and closed
above, or open above and closed below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-open-interval</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">2</span> <span class="mi">7</span><span class="p">))</span>        <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">3</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-closed-interval</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">2</span> <span class="mi">7</span><span class="p">))</span>      <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-open-closed-interval</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">2</span> <span class="mi">7</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">3</span> <span class="mi">5</span> <span class="mi">7</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-closed-open-interval</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">2</span> <span class="mi">7</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-contains?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-contains? set element) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns true if <code>set</code> contains <code>element</code>, and false otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-copy'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-copy set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated iset containing the elements of <code>set</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-count'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-count pred? set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the number of elements of <code>set</code> that satisfy
<code>pred?</code> as an exact integer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-count</span> <span class="nv">odd?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">10</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">-3</span> <span class="mi">9</span> <span class="mi">4</span> <span class="mi">3</span><span class="p">))</span>  <span class="nv">=&gt;</span> <span class="mi">4</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-delete-all!'></a><a id='P_iset-delete-all'></a><a id='P_iset-delete!'></a><a id='P_iset-delete'></a>



</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-delete set element1 element2 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-delete! set element1 element2 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-delete-all set element-list) </strong></code><br>
<code><strong>(iset-delete-all! set element-list) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>iset-delete</code> procedure returns a newly allocated iset containing
all the values of <code>set</code> except for any that are equal to one or more of
the elements. Any element that is not equal to some member of the <code>set</code>
is ignored.</p>
</div>
<div class="paragraph">
<p>The <code>iset-delete!</code> procedure is the same as <code>iset-delete</code>.
is permitted to mutate and return the iset argument rather than
allocating a new iset&#8201;&#8212;&#8201;but in STklos, it doesn&#8217;t.</p>
</div>
<div class="paragraph">
<p>The <code>iset-delete-all</code> and <code>iset-delete-all!</code> procedures are the same as
<code>iset-delete</code> and <code>iset-delete!</code>, except that they accept a single
argument which is a list of elements to be deleted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-delete</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span> <span class="mi">3</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">1</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-delete-all</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span>
                             <span class="o">'</span><span class="p">(</span><span class="nf">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">)))</span>   <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-delete-max!'></a><a id='P_iset-delete-max'></a><a id='P_iset-delete-min!'></a><a id='P_iset-delete-min'></a>



</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-delete-min set) </strong></code><br>
<code><strong>(iset-delete-min! set) </strong></code><br>
<code><strong>(iset-delete-max set) </strong></code><br>
<code><strong>(iset-delete-max! set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns two values: the smallest/largest integer n in <code>set</code> and a
newly-allocated iset that contains all elements of <code>set</code> except for
n. It is an error if iset is empty.</p>
</div>
<div class="paragraph">
<p>The <code>iset-delete-min!</code> and <code>iset-delete-max!</code> procedures are the same as
<code>iset-delete-min</code> and <code>iset-delete-max</code>, respectively, except that they
are permitted to mutate and return the <code>set</code> argument instead of
allocating a new iset. In STklos, they do not.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">let-values</span> <span class="p">(((</span><span class="nf">n</span> <span class="nv">set</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset-delete-min</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))))</span>
  <span class="p">(</span><span class="nb">list</span> <span class="nv">n</span> <span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="nv">set</span><span class="p">)))</span>
  <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="p">(</span><span class="nf">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span>
<span class="p">(</span><span class="nf">let-values</span> <span class="p">(((</span><span class="nf">n</span> <span class="nv">set</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset-delete-max</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))))</span>
  <span class="p">(</span><span class="nb">list</span> <span class="nv">n</span> <span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="nv">set</span><span class="p">)))</span>
  <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">11</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-disjoint?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-disjoint? iset1 iset2) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> if <code>iset1</code> and <code>iset2</code> have no elements in common and <code>#f</code> otherwise.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-disjoint?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="no">#t</span>
<span class="p">(</span><span class="nf">iset-disjoint?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="no">#f</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-empty?'></a><a id='P_SRFI-217'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-empty? obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> is <code>obj</code> is an empty iset and <code>#f</code> if it
is an iset containing at least one key.
If <code>obj</code> is not an iset object, an error is sginaled.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-every?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-every? predicate iset) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> if every element of <code>set</code> satisfies <code>predicate</code>, or <code>#f</code>
otherwise. Note that this differs from the SRFI 1 analogue because it
does not return an element of the iset.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-every?</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">x</span> <span class="mi">5</span><span class="p">))</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">-2</span> <span class="mi">-1</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="no">#t</span>
<span class="p">(</span><span class="nf">iset-every?</span> <span class="nv">positive?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">-2</span> <span class="mi">-1</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">))</span>            <span class="nv">=&gt;</span> <span class="no">#f</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-filter!'></a><a id='P_iset-filter'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-filter predicate set) </strong></code><br>
<code><strong>(iset-filter! predicate set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated iset containing just the elements
of <code>set</code> that satisfy <code>predicate</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-filter</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">x</span> <span class="mi">6</span><span class="p">))</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>iset-filter!</code> is allowed to modify <code>set</code>, but in STklos it does not.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-find'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-find predicate set failure) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the smallest element of <code>set</code> that satisfies predicate, or
the result of invoking <code>failure</code> with no arguments if there is none.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-find</span> <span class="nv">positive?</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">-1</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="no">#f</span><span class="p">))</span>  <span class="nv">=&gt;</span> <span class="mi">1</span>
<span class="p">(</span><span class="nf">iset-find</span> <span class="nv">zero?</span>     <span class="p">(</span><span class="nf">iset</span> <span class="mi">-1</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="no">#f</span><span class="p">))</span>  <span class="nv">=&gt;</span> <span class="no">#f</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-fold-right'></a><a id='P_iset-fold'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-fold proc nil set) </strong></code><br>
<code><strong>(iset-fold-right proc nil set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Invokes <code>proc</code> on each member of <code>set</code> in increasing/decreasing numerical
order, passing the result of the previous invocation as a second
argument. For the first invocation, <code>nil</code> is used as the second
argument. Returns the result of the last invocation, or <code>nil</code> if there
was no invocation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-fold</span> <span class="nv">+</span> <span class="mi">0</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span>            <span class="nv">=&gt;</span> <span class="mi">28</span>
<span class="p">(</span><span class="nf">iset-fold</span> <span class="nv">cons</span> <span class="o">'</span><span class="p">()</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span>       <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">11</span> <span class="mi">7</span> <span class="mi">5</span> <span class="mi">3</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-fold-right</span> <span class="nv">cons</span> <span class="o">'</span><span class="p">()</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-for-each'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-for-each proc set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Applies <code>proc</code> to <code>set</code> in increasing numerical order, discarding the
returned values. Returns an unspecified result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nf">sum</span> <span class="mi">0</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">iset-for-each</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="k">set!</span> <span class="nv">sum</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">sum</span> <span class="nv">x</span><span class="p">)))</span>
                 <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span>
  <span class="nv">sum</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="mi">28</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-height'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-height trie) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the height of the internal trie of an iset. The
expected running time of searches and insertions is
proportional to this value.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-map'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-map proc set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Applies <code>proc</code> to each element of <code>set</code> in arbitrary order and returns a
newly allocated iset, created as if by iset, which contains the
results of the applications. It is an error if <code>proc</code> returns a value
that is not an exact integer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-map</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">10</span> <span class="nv">x</span><span class="p">))</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">11</span> <span class="mi">21</span><span class="p">))</span>
     <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">10</span> <span class="mi">110</span> <span class="mi">210</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-map</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">quotient</span> <span class="nv">x</span> <span class="mi">2</span><span class="p">))</span>
         <span class="p">(</span><span class="nf">iset</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-max'></a><a id='P_iset-min'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-min set) </strong></code><br>
<code><strong>(iset-max set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the smallest or largest integer in <code>set</code>, or <code>#f</code> if there is none.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-min</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="mi">2</span>
<span class="p">(</span><span class="nf">iset-max</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="mi">11</span>
<span class="p">(</span><span class="nf">iset-max</span> <span class="p">(</span><span class="nf">iset</span><span class="p">))</span>            <span class="nv">=&gt;</span> <span class="no">#f</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-member'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-member element set default) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the element of <code>set</code> that is equal to <code>element</code>. If <code>element</code> is not a member
of <code>set</code>, then <code>default</code> is returned.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-mutable?'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-mutable? obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> is <code>obj</code> is a mutable iset and <code>#f</code> otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-partition!'></a><a id='P_iset-partition'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-partition predicate set) </strong></code><br>
<code><strong>(iset-partition! predicate set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns two values: a newly allocated iset that contains just the
elements of <code>set</code> that satisfy <code>predicate</code> and another newly allocated
iset that contains just the elements of <code>set</code> that do not satisfy
<code>predicate</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">let-values</span> <span class="p">(((</span><span class="nf">low</span> <span class="nv">high</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset-partition</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">x</span> <span class="mi">6</span><span class="p">))</span>
                                         <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">))))</span>
  <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="nv">low</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="nv">high</span><span class="p">)))</span>
 <span class="nv">=&gt;</span> <span class="p">((</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span> <span class="p">(</span><span class="nf">7</span> <span class="mi">11</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-remove!'></a><a id='P_iset-remove'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-remove predicate set) </strong></code><br>
<code><strong>(iset-remove! predicate set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated <code>set</code> containing just the elements of <code>set</code>
that do not satisfy <code>predicate</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-remove</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">x</span> <span class="mi">6</span><span class="p">))</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">7</span> <span class="mi">11</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Iset-remove!</code> is allowed to modify <code>set</code>, but in STklos it does not.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-search!'></a><a id='P_iset-search'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-search set element failure success) </strong></code><br>
<code><strong>(iset-search! iset element failure success) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p><code>Set</code> is searched from lowest to highest value for <code>element</code>. If it
is not found, then the <code>failure</code> procedure is tail-called with two
continuation arguments, <code>insert</code> and <code>ignore</code>, and is expected to
tail-call one of them. If <code>element</code> is found, then the <code>success</code> procedure
is tail-called with the matching element of <code>set</code> and two
continuations, <code>update</code> and <code>remove</code>, and is expected to tail-call one of
them.</p>
</div>
<div class="paragraph">
<p>The effects of the continuations are as follows (where <code>obj</code> is any
Scheme object):</p>
</div>
<div class="paragraph">
<p>Invoking <code>(insert obj)</code> causes <code>element</code> to be inserted into iset.</p>
</div>
<div class="paragraph">
<p>Invoking <code>(ignore obj)</code> causes <code>set</code> to remain unchanged.</p>
</div>
<div class="paragraph">
<p>Invoking <code>(update new-element obj)</code> causes <code>new-element</code> to be
inserted into <code>set</code> in place of <code>element</code>.</p>
</div>
<div class="paragraph">
<p>Invoking <code>(remove obj)</code> causes the matching element of <code>set</code> to
be removed from it.</p>
</div>
<div class="paragraph">
<p>In all cases, two values are returned: an iset and <code>obj</code>.</p>
</div>
<div class="paragraph">
<p>The <code>iset-search!</code> procedure is the same as <code>iset-search</code>, except that it
is permitted to mutate and return the iset argument rather than
allocating a new iset. In STklos, it does not.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-size'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-size set) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns the number of fixnums in <code>set</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_iset-unfold'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-unfold stop? mapper successor seed) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Create a newly allocated iset as if by iset. If the result of
applying the predicate <code>stop?</code> to <code>seed</code> is true, return the
iset. Otherwise, apply the procedure <code>mapper</code> to <code>seed</code>. The
value that <code>mapper</code> returns is added to the iset. Then get a
new seed by applying the procedure <code>successor</code> to <code>seed</code>, and
repeat this algorithm.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-unfold</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">n</span><span class="p">)</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">n</span> <span class="mi">64</span><span class="p">))</span>
                         <span class="nv">values</span>
                         <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">n</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">))</span>
                         <span class="mi">2</span><span class="p">))</span>
<span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">4</span> <span class="mi">8</span> <span class="mi">16</span> <span class="mi">32</span> <span class="mi">64</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_iset-xor!'></a><a id='P_iset-difference!'></a><a id='P_iset-intersection!'></a><a id='P_iset-union!'></a><a id='P_iset-xor'></a><a id='P_iset-difference'></a><a id='P_iset-intersection'></a><a id='P_iset-union'></a>







</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset-union iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-intersection iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-difference iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-xor iset1 iset2) </strong></code><br>
<code><strong>(iset-union! iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-intersection! iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-difference! iset1 iset2 iset3 &#8230;&#8203;) </strong></code><br>
<code><strong>(iset-xor! iset1 iset2) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Return a newly allocated iset that is the union, intersection,
asymmetric difference, or symmetric difference of the
isets. Asymmetric difference is extended to more than two isets by
taking the difference between the first iset and the union of the
others. Symmetric difference is not extended beyond two
isets. Elements in the result iset are drawn from the first iset in
which they appear.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-union</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">)))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-intersection</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">)))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">0</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-difference</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">)))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">1</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">iset-xor</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">)))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The procedures whose name end in <code>!</code> are linear update procedures.
The specification says they may or may not alter their argument. In
STklos they do not: in fact, they are aliases to the pure functional
versions.</p>
</div>
<div class="paragraph">
<p><a id='P_iset?'></a><a id='P_SRFI-217'></a>

</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(iset? obj) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns <code>#t</code> is <code>obj</code> is an iset and <code>#f</code> otherwise.</p>
</div>
<div class="paragraph">
<p><a id='P_isubset>='></a><a id='P_isubset>'></a><a id='P_isubset<='></a><a id='P_isubset<'></a><a id='P_isubset='></a>




</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(isubset= set k) </strong></code><br>
<code><strong>(isubset&lt; set k) </strong></code><br>
<code><strong>(isubset&#8656; set k) </strong></code><br>
<code><strong>(isubset&gt; set k) </strong></code><br>
<code><strong>(isubset&gt;= set k) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Procedures that return an integer set containing the elements of <code>set</code>
that are equal to, less than, less than or equal to, greater than, or
greater than or equal to <code>k</code>. Note that the result of <code>isubset=</code> contains
at most one element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">isubset=</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">7</span><span class="p">))</span>  <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">7</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">isubset&lt;</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">7</span><span class="p">))</span>  <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">isubset&gt;=</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">11</span><span class="p">)</span> <span class="mi">7</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">7</span> <span class="mi">11</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_list->iset'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(list&#8594;iset list) </strong></code><br>
<code><strong>(list&#8594;iset! set list) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated iset, created as if by iset, that contains
the elements of <code>list</code>. Duplicate elements are omitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">list-&gt;iset</span> <span class="o">'</span><span class="p">(</span><span class="nf">-3</span> <span class="mi">-1</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">))</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">-3</span> <span class="mi">-1</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>list&#8594;iset!</code> may mutate <code>set</code> rather than allocating a new iset,
but in STklos it does not.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">list-&gt;iset!</span> <span class="p">(</span><span class="nf">iset</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span> <span class="o">'</span><span class="p">(</span><span class="nf">-3</span> <span class="mi">-1</span> <span class="mi">0</span><span class="p">)))</span> <span class="err">⇒</span> <span class="p">(</span><span class="nf">-3</span> <span class="mi">-1</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_make-range-iset'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(make-range-iset start end [step]) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Returns a newly allocated iset specified by an inclusive lower bound
<code>start</code>, an exclusive upper bound `e`nd, and a step value (default 1), all
of which are exact integers. This constructor produces an iset
containing the sequence</p>
</div>
<div class="paragraph">
<p><code>start, (+ start step), (+ start (* 2 step)), &#8230;&#8203;, (+ start (* n step))</code>,</p>
</div>
<div class="paragraph">
<p>where <code>n</code> is the greatest integer such that <code>(+ start (* n step)) &lt; end</code>
if <code>step</code> is positive, or such that <code>(+ start (* n step)) &gt; end</code> if <code>step</code>
is negative. It is an error if <code>step</code> is zero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">make-range-iset</span> <span class="mi">25</span> <span class="mi">30</span><span class="p">))</span>    <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">25</span> <span class="mi">26</span> <span class="mi">27</span> <span class="mi">28</span> <span class="mi">29</span><span class="p">)</span>
<span class="p">(</span><span class="nf">iset-&gt;list</span> <span class="p">(</span><span class="nf">make-range-iset</span> <span class="mi">-10</span> <span class="mi">10</span> <span class="mi">6</span><span class="p">))</span> <span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">-10</span> <span class="mi">-4</span> <span class="mi">2</span> <span class="mi">8</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_stklos_preproc_library">(stklos preproc) Library</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This library  must be described
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_stklos_compiler">A.2. STklos compiler</h3>
<div class="paragraph">
<p><strong><em>STklos</em></strong> always compiles code into bytecode before executing&#8201;&#8212;&#8201;it
is not an interpreter, but a bytecode compiler with an ad-hoc virtual
machine. The compiler is available as a standalone tool, to be
used in shell scripts, and also through primitive procedures.</p>
</div>
<div class="paragraph">
<p>The command <code>stklos-compile</code> compiles a file into <strong><em>STklos</em></strong> bytecode.
Please refer to its manpage for more information.</p>
</div>
<div class="paragraph">
<p>Compiling files from Scheme programs can be done with the
<code>compile-file</code> procedure.</p>
</div>
<div class="paragraph">
<p><a id='P_compile-file'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compile-file input output) </strong></code><br>
<code><strong>(compile-file input output #:prepend cmds #:case-sensitive cs) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Compiles the file whose name is <code>input</code> into a bytecode executable
whose name is <code>output</code> (if <code>compile-file</code> fails, <code>output</code> file is
deleted).</p>
</div>
<div class="paragraph">
<p>This command accepts two optional keywords:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#:prepend</code> :  it must be a list of  expressions, which will be
compiled before the rest of the input  file. This can be used
to define variables that the compiled program  will use (but it
does not affect the compiler itself).</p>
</li>
<li>
<p><code>#:case-sensitive</code> : it tells if the compiler reads symbols in
case sensitive mode (as R<sup>7</sup>RS) or not not (as R<sup>5</sup>RS).
By default the compiler is in case sensitive mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This procedure will not set the executable bit on the generated file.</p>
</div>
<div class="sect3">
<h4 id="_compiler_flags">A.2.1. Compiler flags</h4>
<div class="paragraph">
<p><strong><em>STklos</em></strong> compiler behaviour can be customized by several parameters. Those parameters are described below.</p>
</div>
<div class="paragraph">
<p><a id='P_compiler:time-display'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:time-display) </strong></code><br>
<code><strong>(compiler:time-display bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls if the time used for compiling a file must be
displayed or not. It defaults to <code>#t</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_compiler:gen-line-number'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:gen-line-number) </strong></code><br>
<code><strong>(compiler:gen-line-number bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls if the compiled code must embed indications of
the file location of the  of the source expressions. When set, this
parameter makes programs slower and bigger. However, it can be useful
when debugging a program. This parameter defaults to <code>#f</code> (but is set to
<code>`#t</code> when <strong><em>STklos</em></strong> is launched in debug mode).</p>
</div>
<div class="paragraph">
<p><a id='P_compiler:show-assembly-code'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:show-assembly-code) </strong></code><br>
<code><strong>(compiler:show-assembly-code bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls if the object files produced by the <strong><em>STklos</em></strong>
compiler code must embed a readable version of the code. The code is placed
at the beginning of the produced file. This parameter defaults to <code>#f</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_compiler:inline-common-functions'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:inline-common-functions) </strong></code><br>
<code><strong>(compiler:inline-common-functions bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls if the compiler must try to inline the most common
Scheme primitives (simple arithmetic, main list or vector functions, &#8230;&#8203;).
Code produced  when this parameter is set is more efficient. Note that the
compiler can sometimes be misleaded if those functions are redefined, hence
the existence of this parameter. <code>compiler:inline-common-functions</code> is set
by default to <code>#t</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="nv">&gt;</span> <span class="p">(</span><span class="nf">compiler:inline-common-functions</span> <span class="no">#t</span><span class="p">)</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="nf">disassemble-expr</span> <span class="o">'</span><span class="p">(</span><span class="k">begin</span> <span class="p">(</span><span class="nb">car</span> <span class="o">'</span><span class="p">(</span><span class="nf">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">))</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">a</span> <span class="mi">1</span><span class="p">))</span> <span class="no">#t</span><span class="p">)</span>

<span class="mi">000</span><span class="nv">:</span>  <span class="nv">CONSTANT</span>             <span class="mi">0</span>
<span class="mi">002</span><span class="nv">:</span>  <span class="nv">IN-CAR</span>
<span class="mi">003</span><span class="nv">:</span>  <span class="nv">GLOBAL-REF</span>           <span class="mi">1</span>
<span class="mi">005</span><span class="nv">:</span>  <span class="nv">IN-INCR</span>
<span class="mi">006</span><span class="nv">:</span>

<span class="nv">Constants:</span>
<span class="mi">0</span><span class="nv">:</span> <span class="p">(</span><span class="nf">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">1</span><span class="nv">:</span> <span class="nv">a</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="nv">&gt;</span> <span class="p">(</span><span class="nf">compiler:inline-common-functions</span> <span class="no">#f</span><span class="p">)</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="nf">disassemble-expr</span> <span class="o">'</span><span class="p">(</span><span class="k">begin</span> <span class="p">(</span><span class="nb">car</span> <span class="o">'</span><span class="p">(</span><span class="nf">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">))</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">a</span> <span class="mi">1</span><span class="p">))</span> <span class="no">#t</span><span class="p">)</span>

<span class="mi">000</span><span class="nv">:</span>  <span class="nv">PREPARE-CALL</span>
<span class="mi">001</span><span class="nv">:</span>  <span class="nv">CONSTANT-PUSH</span>        <span class="mi">0</span>
<span class="mi">003</span><span class="nv">:</span>  <span class="nv">GREF-INVOKE</span>          <span class="mi">1</span> <span class="mi">1</span>
<span class="mi">006</span><span class="nv">:</span>  <span class="nv">PREPARE-CALL</span>
<span class="mi">007</span><span class="nv">:</span>  <span class="nv">GLOBAL-REF-PUSH</span>      <span class="mi">2</span>
<span class="mi">009</span><span class="nv">:</span>  <span class="nv">ONE-PUSH</span>
<span class="mi">010</span><span class="nv">:</span>  <span class="nv">GREF-INVOKE</span>          <span class="mi">3</span> <span class="mi">2</span>
<span class="mi">013</span><span class="nv">:</span>

<span class="nv">Constants:</span>
<span class="mi">0</span><span class="nv">:</span> <span class="p">(</span><span class="nf">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">1</span><span class="nv">:</span> <span class="nv">car</span>
<span class="mi">2</span><span class="nv">:</span> <span class="nv">a</span>
<span class="mi">3</span><span class="nv">:</span> <span class="nv">+</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_compiler:source-rewrite'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:source-rewrite) </strong></code><br>
<code><strong>(compiler:source-rewrite bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter determines if compiler tries to rewrite some expressions in
simpler ones. For instance, it permit to eliminate the unneeded expression
in a <code>begin</code> form, or to evaluate some simple expression. For instance,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="k">begin</span> <span class="mi">100</span> <span class="nv">foo</span> <span class="p">(</span><span class="nb">display</span> <span class="s">"Hello"</span><span class="p">)</span> <span class="s">"Hi"</span> <span class="p">(</span><span class="nb">not</span> <span class="no">#f</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>is rewritten in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="k">begin</span> <span class="p">(</span><span class="nb">display</span> <span class="s">"Hello"</span><span class="p">)</span> <span class="no">#t</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This parameter defaults to <code>#t</code>.</p>
</div>
<div class="paragraph">
<p><a id='P_compiler:keep-formals'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:keep-formals) </strong></code><br>
<code><strong>(compiler:keep-formals bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls if the formal parameters of a user procedure is kept
at runtime. The formal parameters can be accessed with the primitive
&lt;&lt;"procedure-formals"&gt;&gt;.
Default value for <code>compiler:keep-formals</code> is <code>#f</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="nv">&gt;</span> <span class="p">(</span><span class="nf">compiler:keep-formals</span> <span class="no">#f</span><span class="p">)</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">foo</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span> <span class="nv">+</span> <span class="nv">a</span> <span class="nv">b</span> <span class="mi">1</span><span class="p">))</span>
<span class="nv">&gt;</span> <span class="nv">foo</span>
<span class="o">#</span><span class="p">[</span><span class="nf">closure</span> <span class="nv">foo</span><span class="p">]</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="nf">procedure-formals</span> <span class="nv">foo</span><span class="p">)</span>
<span class="no">#f</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="nv">&gt;</span> <span class="p">(</span><span class="nf">compiler:keep-formals</span> <span class="no">#t</span><span class="p">)</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">foo</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span> <span class="nv">+</span> <span class="nv">a</span> <span class="nv">b</span> <span class="mi">1</span><span class="p">))</span>
<span class="nv">&gt;</span> <span class="nv">foo</span>
<span class="o">#</span><span class="p">[</span><span class="nf">closure</span> <span class="nv">foo</span> <span class="p">(</span><span class="nf">a</span> <span class="nv">b</span><span class="p">)]</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="nf">procedure-formals</span> <span class="nv">foo</span><span class="p">)</span>
<span class="p">(</span><span class="nf">a</span> <span class="nv">b</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_compiler:keep-source'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:keep-source) </strong></code><br>
<code><strong>(compiler:keep-source bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls if the source of a user procedure is kept
at runtime. The source of a procedure can be accessed with the primitive
&lt;&lt;"procedure-source"&gt;&gt;.
Default value for <code>compiler:keep-source</code> is <code>#f</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="nv">&gt;</span> <span class="p">(</span><span class="nf">compiler:keep-source</span> <span class="no">#t</span><span class="p">)</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="k">define</span> <span class="nv">fib</span>
     <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">n</span><span class="p">)</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">)</span> <span class="nv">n</span> <span class="p">(</span><span class="nb">+</span> <span class="p">(</span><span class="nf">fib</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">))</span> <span class="p">(</span><span class="nf">fib</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">))))))</span>
<span class="nv">&gt;</span> <span class="p">(</span><span class="nf">pretty-print</span> <span class="p">(</span><span class="nf">procedure-source</span> <span class="nv">fib</span><span class="p">))</span>
<span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nv">n</span>
    <span class="p">(</span><span class="nb">+</span> <span class="p">(</span><span class="nf">fib</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">))</span>
       <span class="p">(</span><span class="nf">fib</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">)))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a id='P_compiler:unroll-iterations'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:unroll-iterations) </strong></code><br>
<code><strong>(compiler:unroll-iterations n) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter controls the number of iterations to be unrolled in
loops. Currently, only <code>repeat</code> loops are unrolled. The argument
<code>n</code> must be a positive integer.</p>
</div>
<div class="paragraph">
<p><a id='P_compiler:peephole-optimizer'></a>
</p>
</div>
<div class="paragraph rmargin text-right">
<p><span class="rmargin small silver"><em>STklos</em> procedure</span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph small">
<p><code><strong>(compiler:peephole-optimizer) </strong></code><br>
<code><strong>(compiler:peephole-optimizer bool) </strong></code><br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This parameter determines if the peephole optimizer is used when compiling.
The default value for this parameter is <code>#t</code>. The next example illustrates
how it works.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">compiler:peephole-optimizer</span> <span class="no">#f</span><span class="p">)</span>
<span class="p">(</span><span class="nf">disassemble-expr</span> <span class="o">'</span><span class="p">(</span><span class="nb">+</span> <span class="nv">a</span> <span class="no">#f</span><span class="p">)</span> <span class="no">#t</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="mi">000</span><span class="nv">:</span>  <span class="nv">GLOBAL-REF</span>           <span class="mi">0</span>
<span class="mi">002</span><span class="nv">:</span>  <span class="nv">PUSH</span>
<span class="mi">003</span><span class="nv">:</span>  <span class="nv">IM-FALSE</span>
<span class="mi">004</span><span class="nv">:</span>  <span class="nv">IN-ADD2</span>
<span class="mi">005</span><span class="nv">:</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, if we change the parameter,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="scheme"><span class="p">(</span><span class="nf">compiler:peephole-optimizer</span> <span class="no">#t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">disassemble-expr</span> <span class="o">'</span><span class="p">(</span><span class="nb">+</span> <span class="nv">a</span> <span class="no">#f</span><span class="p">)</span> <span class="no">#t</span><span class="p">)</span>
<span class="nv">then</span> <span class="nv">the</span> <span class="nv">result</span> <span class="nv">is</span>

<span class="o">```</span><span class="nv">scheme</span>

<span class="mi">000</span><span class="nv">:</span>  <span class="nv">GLOBAL-REF-PUSH</span>      <span class="mi">0</span>
<span class="mi">002</span><span class="nv">:</span>  <span class="nv">IM-FALSE</span>
<span class="mi">003</span><span class="nv">:</span>  <span class="nv">IN-ADD2</span>
<span class="mi">004</span><span class="nv">:</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See that the <code>GLOBAL-REF</code> and <code>PUSH</code> were turned by the peephole optimizer
into <code>GLOBAL-REF-PUSH</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>← Previous: <a href="_bibliography.html">Bibliography</a> | ↑ Up: <a href="stklos-ref-multi.html">STklos Reference Manual : (version 2.10)</a> | Next: <a href="FDL.html">Appendix B: GNU Free Documentation License</a> →</p>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Documentation about hygienic macros has been stolen in the SLIB manual
</div>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. In fact <code>define-module</code> on a given name defines a new module only the first time it is invoked on this name. By this way, interactively reloading a module does not define a new entity, and the other modules which use it are not altered.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. This transcript uses the default toplevel loop             which displays the name of the current module in the evaluator             prompt.
</div>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Under Unix, you can simply connect to a listening socket with the <code>telnet</code> of <code>netcat</code> command. For the given example, this can be achieved with <code>netcat localhost 12345</code>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Port 13, if open, can be used for testing: making a connection to it permits to know the distant system&#8217;s idea of the time of day.
</div>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. The "pattern matching compiler" has been written by Jean-Marie Geffroy and is part of the Manuel Serrano&#8217;s Bigloo compiler since several years <a href="_bibliography.html#Bigloo">[Bigloo]</a>
</div>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. This section is an adaptation of Jeff Dalton&#8217;s (<a href="mailto:J.Dalton@ed.ac.uk">J.Dalton@ed.ac.uk</a>) "<strong><em>Brief introduction to CLOS</em></strong>" which can be found at <a href="http://www.aiai.ed.ac.uk/~jeff/clos-guide.html" class="bare">http://www.aiai.ed.ac.uk/~jeff/clos-guide.html</a>
</div>
</div>
</body>
</html>